# ç¾¤ç»„ç¼–æ’

<cite>
**æœ¬æ–‡æ¡£å¼•ç”¨æ–‡ä»¶**  
- [entity.go](file://internal/core/group/entity.go)
- [repository.go](file://internal/core/group/repository.go)
- [group.go](file://internal/api/handler/group.go)
- [group_repository.go](file://internal/infrastructure/persistence/group_repository.go)
- [GroupsPage.tsx](file://frontend/src/features/groups/pages/GroupsPage.tsx)
- [GroupList.tsx](file://frontend/src/features/groups/components/GroupList.tsx)
- [CreateGroupModal.tsx](file://frontend/src/features/groups/components/CreateGroupModal.tsx)
- [useGroups.ts](file://frontend/src/hooks/useGroups.ts)
- [group.ts](file://frontend/src/types/group.ts)
- [seeder.go](file://internal/resources/seeder.go)
- [session.go](file://internal/core/workflow/session.go)
- [template.go](file://internal/core/workflow/template.go)
</cite>

## ç›®å½•
1. [å¼•è¨€](#å¼•è¨€)
2. [ç¾¤ç»„å®ä½“ç»“æ„ä¸æŒä¹…åŒ–](#ç¾¤ç»„å®ä½“ç»“æ„ä¸æŒä¹…åŒ–)
3. [ç¾¤ç»„ç®¡ç†çš„å®ç°æœºåˆ¶](#ç¾¤ç»„ç®¡ç†çš„å®ç°æœºåˆ¶)
4. [å‰ç«¯ç»„ä»¶åˆ†æ](#å‰ç«¯ç»„ä»¶åˆ†æ)
5. [ç¾¤ç»„åœ¨ä¼šè®®å¯åŠ¨ä¸­çš„ä½œç”¨](#ç¾¤ç»„åœ¨ä¼šè®®å¯åŠ¨ä¸­çš„ä½œç”¨)
6. [æ“ä½œç¤ºä¾‹ä¸æƒé™æ§åˆ¶](#æ“ä½œç¤ºä¾‹ä¸æƒé™æ§åˆ¶)
7. [ä¸å·¥ä½œæµæ¨¡æ¿çš„å¤ç”¨å…³ç³»](#ä¸å·¥ä½œæµæ¨¡æ¿çš„å¤ç”¨å…³ç³»)
8. [æœ€ä½³å®è·µå»ºè®®](#æœ€ä½³å®è·µå»ºè®®)
9. [ç»“è®º](#ç»“è®º)

## å¼•è¨€
ç¾¤ç»„ç®¡ç†ç³»ç»Ÿæ˜¯The Councilå¹³å°çš„æ ¸å¿ƒåŠŸèƒ½ä¹‹ä¸€ï¼Œå®ƒä¸ºç”¨æˆ·æä¾›äº†ä¸€ä¸ªç»„ç»‡å’Œç®¡ç†AIæ™ºèƒ½ä½“åä½œçš„å®¹å™¨ã€‚é€šè¿‡åˆ›å»ºä¸åŒçš„ç¾¤ç»„ï¼Œç”¨æˆ·å¯ä»¥é’ˆå¯¹ç‰¹å®šçš„ä¸šåŠ¡åœºæ™¯ï¼ˆå¦‚SaaSé¡¹ç›®ã€å®¶åº­å†³ç­–æˆ–æŠ•èµ„åˆ†æï¼‰é…ç½®ä¸“å±çš„æ™ºèƒ½ä½“å›¢é˜Ÿï¼Œå¹¶å®šä¹‰å…¶è¡Œä¸ºå‡†åˆ™ã€‚æœ¬æ–‡æ¡£å°†è¯¦ç»†è¯´æ˜ç¾¤ç»„çš„åˆ›å»ºã€æˆå‘˜ç®¡ç†ã€é»˜è®¤ç­åº•é…ç½®ä»¥åŠä¸æ™ºèƒ½ä½“çš„ç»‘å®šå…³ç³»ï¼Œè§£æå…¶åç«¯å®ç°å’Œå‰ç«¯å±•ç¤ºé€»è¾‘ã€‚

## ç¾¤ç»„å®ä½“ç»“æ„ä¸æŒä¹…åŒ–
ç¾¤ç»„å®ä½“ï¼ˆGroupï¼‰æ˜¯ç³»ç»Ÿä¸­çš„æ ¸å¿ƒæ•°æ®æ¨¡å‹ï¼Œå®ƒå®šä¹‰äº†ç¾¤ç»„çš„åŸºæœ¬å±æ€§å’Œç»“æ„ã€‚è¯¥å®ä½“åœ¨åç«¯é€šè¿‡Goè¯­è¨€å®ç°ï¼Œå¹¶é€šè¿‡PostgreSQLæ•°æ®åº“è¿›è¡ŒæŒä¹…åŒ–å­˜å‚¨ã€‚

### ç¾¤ç»„å®ä½“ç»“æ„
ç¾¤ç»„å®ä½“åŒ…å«ä»¥ä¸‹å…³é”®å­—æ®µï¼š
- **ID**: å”¯ä¸€æ ‡è¯†ç¬¦ï¼Œä½¿ç”¨UUIDç”Ÿæˆã€‚
- **Name**: ç¾¤ç»„åç§°ï¼Œç”¨äºæ ‡è¯†å’Œå±•ç¤ºã€‚
- **Icon**: å¯é€‰çš„å›¾æ ‡ï¼Œé€šå¸¸ä¸ºEmojiï¼Œç”¨äºè§†è§‰åŒºåˆ†ã€‚
- **SystemPrompt**: ç³»ç»Ÿæç¤ºè¯ï¼Œå®šä¹‰äº†è¯¥ç¾¤ç»„çš„â€œå®ªæ³•â€æˆ–æ ¸å¿ƒè¡Œä¸ºå‡†åˆ™ã€‚
- **DefaultAgentIDs**: ä¸€ä¸ªUUIDæ•°ç»„ï¼Œå­˜å‚¨äº†è¯¥ç¾¤ç»„é»˜è®¤ç»‘å®šçš„æ™ºèƒ½ä½“IDåˆ—è¡¨ã€‚
- **CreatedAt/UpdatedAt**: æ—¶é—´æˆ³ï¼Œè®°å½•ç¾¤ç»„çš„åˆ›å»ºå’Œæ›´æ–°æ—¶é—´ã€‚

```mermaid
classDiagram
class Group {
+uuid.UUID ID
+string Name
+*string Icon
+*string SystemPrompt
+[]uuid.UUID DefaultAgentIDs
+time.Time CreatedAt
+time.Time UpdatedAt
}
```

**å›¾ç¤ºæ¥æº**
- [entity.go](file://internal/core/group/entity.go#L9-L18)

### æŒä¹…åŒ–æ–¹å¼
ç¾¤ç»„æ•°æ®é€šè¿‡PostgreSQLæ•°æ®åº“è¿›è¡ŒæŒä¹…åŒ–ã€‚æ•°æ®åº“ä¸­çš„`groups`è¡¨ç»“æ„ä¸å®ä½“å®šä¹‰ç›¸å¯¹åº”ï¼Œå…¶ä¸­`default_agent_ids`å­—æ®µä½¿ç”¨JSONBç±»å‹å­˜å‚¨ï¼Œä»¥æ”¯æŒçµæ´»çš„æ•°ç»„æ“ä½œã€‚

```sql
CREATE TABLE groups (
    id UUID PRIMARY KEY DEFAULT gen_random_uuid(),
    name VARCHAR(128) NOT NULL,
    icon VARCHAR(256),
    system_prompt TEXT,
    default_agent_ids JSONB DEFAULT '[]',
    created_at TIMESTAMPTZ DEFAULT NOW(),
    updated_at TIMESTAMPTZ DEFAULT NOW()
);
```

**å›¾ç¤ºæ¥æº**
- [tdd/04_storage.md](file://docs/tdd/04_storage.md#L122-L131)

## ç¾¤ç»„ç®¡ç†çš„å®ç°æœºåˆ¶
ç¾¤ç»„ç®¡ç†åŠŸèƒ½çš„å®ç°éµå¾ªå…¸å‹çš„åˆ†å±‚æ¶æ„ï¼Œä»å‰ç«¯ç•Œé¢åˆ°åç«¯APIï¼Œå†åˆ°æ•°æ®è®¿é—®å±‚ï¼Œå½¢æˆäº†ä¸€ä¸ªå®Œæ•´çš„CRUDï¼ˆåˆ›å»ºã€è¯»å–ã€æ›´æ–°ã€åˆ é™¤ï¼‰æµç¨‹ã€‚

### åç«¯æœåŠ¡å±‚
åç«¯é€šè¿‡`GroupHandler`å¤„ç†æ‰€æœ‰ä¸ç¾¤ç»„ç›¸å…³çš„HTTPè¯·æ±‚ã€‚è¯¥å¤„ç†å™¨å®ç°äº†æ ‡å‡†çš„RESTful APIï¼ŒåŒ…æ‹¬`Create`ã€`Get`ã€`List`ã€`Update`å’Œ`Delete`æ–¹æ³•ã€‚è¿™äº›æ–¹æ³•æ¥æ”¶HTTPè¯·æ±‚ï¼Œè§£æå‚æ•°ï¼Œå¹¶è°ƒç”¨ä¸‹å±‚çš„`Repository`æ¥å£è¿›è¡Œä¸šåŠ¡é€»è¾‘å¤„ç†ã€‚

```mermaid
sequenceDiagram
participant å‰ç«¯ as å‰ç«¯ (React)
participant Handler as GroupHandler
participant Repository as Repository
participant DB as æ•°æ®åº“
å‰ç«¯->>Handler : POST /api/v1/groups
Handler->>Repository : Create(group)
Repository->>DB : æ‰§è¡ŒINSERTè¯­å¥
DB-->>Repository : è¿”å›IDå’Œæ—¶é—´æˆ³
Repository-->>Handler : è¿”å›æˆåŠŸ
Handler-->>å‰ç«¯ : 201 Created
```

**å›¾ç¤ºæ¥æº**
- [group.go](file://internal/api/handler/group.go#L19-L32)
- [group_repository.go](file://internal/infrastructure/persistence/group_repository.go#L23-L43)

### æ•°æ®è®¿é—®å±‚
`GroupRepository`æ˜¯æ•°æ®è®¿é—®å±‚çš„å…·ä½“å®ç°ï¼Œå®ƒç›´æ¥ä¸PostgreSQLæ•°æ®åº“äº¤äº’ã€‚è¯¥å±‚è´Ÿè´£å°†Goè¯­è¨€çš„`Group`ç»“æ„ä½“æ˜ å°„åˆ°æ•°æ®åº“çš„`groups`è¡¨ï¼Œå¹¶æ‰§è¡Œç›¸åº”çš„SQLæ“ä½œã€‚æ‰€æœ‰æ•°æ®åº“æ“ä½œéƒ½é€šè¿‡`db.DB`æ¥å£è¿›è¡Œï¼Œç¡®ä¿äº†ä»£ç çš„å¯æµ‹è¯•æ€§å’Œå¯ç»´æŠ¤æ€§ã€‚

**æœ¬èŠ‚æ¥æº**
- [repository.go](file://internal/core/group/repository.go#L9-L16)
- [group_repository.go](file://internal/infrastructure/persistence/group_repository.go#L13-L114)

## å‰ç«¯ç»„ä»¶åˆ†æ
å‰ç«¯çš„ç¾¤ç»„ç®¡ç†åŠŸèƒ½ä¸»è¦ç”±`GroupsPage`å’Œ`GroupList`ä¸¤ä¸ªç»„ä»¶æ„æˆï¼Œå®ƒä»¬å…±åŒå®ç°äº†ç¾¤ç»„çš„å¯è§†åŒ–å±•ç¤ºå’Œäº¤äº’æ“ä½œã€‚

### GroupsPage ç»„ä»¶
`GroupsPage`æ˜¯ç¾¤ç»„ç®¡ç†çš„ä¸»é¡µé¢ï¼Œå®ƒæä¾›äº†ä¸€ä¸ªå®¹å™¨ï¼Œç”¨äºå±•ç¤º`GroupList`ç»„ä»¶å’Œé¡µé¢æ ‡é¢˜ã€‚è¯¥ç»„ä»¶æœ¬èº«é€»è¾‘ç®€å•ï¼Œä¸»è¦èŒè´£æ˜¯å¸ƒå±€å’Œå¯¼èˆªã€‚

```tsx
export function GroupsPage() {
    return (
        <div className="h-full overflow-y-auto bg-gray-50 dark:bg-gray-950 p-6 md:p-8">
            <div className="max-w-7xl mx-auto space-y-8">
                <div>
                    <h1 className="text-3xl font-bold text-gray-900 dark:text-gray-100 tracking-tight">
                        Groups
                    </h1>
                    <p className="text-gray-500 dark:text-gray-400 mt-2 text-lg">
                        Manage your collaboration spaces and default agent assignments.
                    </p>
                </div>
                <GroupList />
            </div>
        </div>
    );
}
```

**æœ¬èŠ‚æ¥æº**
- [GroupsPage.tsx](file://frontend/src/features/groups/pages/GroupsPage.tsx#L3-L20)

### GroupList ç»„ä»¶
`GroupList`ç»„ä»¶æ˜¯ç¾¤ç»„ç®¡ç†çš„æ ¸å¿ƒï¼Œå®ƒè´Ÿè´£å±•ç¤ºæ‰€æœ‰ç¾¤ç»„çš„åˆ—è¡¨ï¼Œå¹¶æä¾›åˆ›å»ºã€ç¼–è¾‘å’Œåˆ é™¤ç­‰æ“ä½œã€‚è¯¥ç»„ä»¶ä½¿ç”¨`useGroups`ã€`useCreateGroup`ã€`useUpdateGroup`å’Œ`useDeleteGroup`ç­‰è‡ªå®šä¹‰Hookæ¥ç®¡ç†æ•°æ®çŠ¶æ€å’ŒAPIè°ƒç”¨ã€‚

#### æ ¸å¿ƒåŠŸèƒ½
- **æ•°æ®è·å–**: é€šè¿‡`useGroups` Hookä»APIè·å–ç¾¤ç»„åˆ—è¡¨ã€‚
- **æœç´¢è¿‡æ»¤**: æä¾›æœç´¢æ¡†ï¼Œå…è®¸ç”¨æˆ·æ ¹æ®ç¾¤ç»„åç§°æˆ–ç³»ç»Ÿæç¤ºè¯è¿›è¡Œè¿‡æ»¤ã€‚
- **åˆ›å»ºä¸ç¼–è¾‘**: é€šè¿‡`CreateGroupModal`æ¨¡æ€æ¡†å®ç°ç¾¤ç»„çš„åˆ›å»ºå’Œç¼–è¾‘ï¼Œæ”¯æŒé€‰æ‹©é»˜è®¤æ™ºèƒ½ä½“ã€‚
- **åˆ é™¤ç¡®è®¤**: åœ¨åˆ é™¤ç¾¤ç»„å‰ï¼Œå¼¹å‡ºç¡®è®¤å¯¹è¯æ¡†ä»¥é˜²æ­¢è¯¯æ“ä½œã€‚

```mermaid
flowchart TD
Start([ç»„ä»¶æŒ‚è½½]) --> Fetch["è°ƒç”¨ useGroups() è·å–æ•°æ®"]
Fetch --> CheckLoading{"åŠ è½½ä¸­?"}
CheckLoading --> |æ˜¯| ShowLoading["æ˜¾ç¤ºåŠ è½½åŠ¨ç”»"]
CheckLoading --> |å¦| CheckError{"æœ‰é”™è¯¯?"}
CheckError --> |æ˜¯| ShowError["æ˜¾ç¤ºé”™è¯¯ä¿¡æ¯"]
CheckError --> |å¦| RenderList["æ¸²æŸ“ç¾¤ç»„åˆ—è¡¨"]
RenderList --> CheckEmpty{"åˆ—è¡¨ä¸ºç©º?"}
CheckEmpty --> |æ˜¯| ShowEmpty["æ˜¾ç¤ºç©ºçŠ¶æ€"]
CheckEmpty --> |å¦| DisplayCards["æ˜¾ç¤º GroupCard"]
DisplayCards --> HandleActions["å¤„ç†ç¼–è¾‘/åˆ é™¤æ“ä½œ"]
ShowLoading --> End
ShowError --> End
ShowEmpty --> End
HandleActions --> End
```

**æœ¬èŠ‚æ¥æº**
- [GroupList.tsx](file://frontend/src/features/groups/components/GroupList.tsx#L8-L131)
- [CreateGroupModal.tsx](file://frontend/src/features/groups/components/CreateGroupModal.tsx#L1-L174)

## ç¾¤ç»„åœ¨ä¼šè®®å¯åŠ¨ä¸­çš„ä½œç”¨
ç¾¤ç»„åœ¨ä¼šè®®ï¼ˆSessionï¼‰å¯åŠ¨æ—¶æ‰®æ¼”ç€è‡³å…³é‡è¦çš„è§’è‰²ï¼Œå®ƒä¸ä»…æ˜¯æ™ºèƒ½ä½“çš„é›†åˆå®¹å™¨ï¼Œæ›´æ˜¯æ•´ä¸ªè¾©è®ºæµç¨‹çš„ä¸Šä¸‹æ–‡å’Œè§„åˆ™åˆ¶å®šè€…ã€‚

### ä½œä¸ºæ™ºèƒ½ä½“é›†åˆçš„å®¹å™¨
å½“ç”¨æˆ·å¯åŠ¨ä¸€ä¸ªä¼šè®®æ—¶ï¼Œç³»ç»Ÿä¼šæ ¹æ®æ‰€é€‰ç¾¤ç»„çš„`default_agent_ids`å­—æ®µï¼ŒåŠ è½½å¯¹åº”çš„æ™ºèƒ½ä½“ã€‚è¿™äº›æ™ºèƒ½ä½“å°†ä½œä¸ºâ€œç†äº‹ä¼šâ€æˆå‘˜ï¼Œå‚ä¸åˆ°åç»­çš„è¾©è®ºæµç¨‹ä¸­ã€‚ä¾‹å¦‚ï¼Œåä¸ºâ€œThe Councilâ€çš„é»˜è®¤ç¾¤ç»„ä¼šè‡ªåŠ¨åŠ è½½â€œAffirmativeâ€ã€â€œNegativeâ€å’Œâ€œAdjudicatorâ€ä¸‰ä¸ªæ™ºèƒ½ä½“ã€‚

### ä¼šè®®å¯åŠ¨æµç¨‹
1. **é€‰æ‹©ç¾¤ç»„**: ç”¨æˆ·åœ¨ä¼šè®®å¯åŠ¨ç•Œé¢é€‰æ‹©ä¸€ä¸ªç¾¤ç»„ã€‚
2. **åŠ è½½æ™ºèƒ½ä½“**: ç³»ç»Ÿæ ¹æ®ç¾¤ç»„çš„`default_agent_ids`åŠ è½½æ™ºèƒ½ä½“é…ç½®ã€‚
3. **åº”ç”¨ç³»ç»Ÿæç¤ºè¯**: ç¾¤ç»„çš„`system_prompt`è¢«ä½œä¸ºä¸Šä¸‹æ–‡æ³¨å…¥åˆ°æ‰€æœ‰æ™ºèƒ½ä½“çš„å¯¹è¯ä¸­ï¼Œç¡®ä¿å®ƒä»¬éµå¾ªç»Ÿä¸€çš„è¡Œä¸ºå‡†åˆ™ã€‚
4. **åˆå§‹åŒ–å·¥ä½œæµ**: ç»“åˆé€‰å®šçš„å·¥ä½œæµæ¨¡æ¿ï¼Œç³»ç»Ÿåˆ›å»ºä¸€ä¸ª`Session`å®ä¾‹ï¼Œå¹¶å¼€å§‹æ‰§è¡Œã€‚

```mermaid
sequenceDiagram
participant ç”¨æˆ· as ç”¨æˆ·
participant å‰ç«¯ as å‰ç«¯
participant åç«¯ as åç«¯
participant ä¼šè®®å¼•æ“ as ä¼šè®®å¼•æ“
ç”¨æˆ·->>å‰ç«¯ : é€‰æ‹©ç¾¤ç»„å¹¶å¯åŠ¨ä¼šè®®
å‰ç«¯->>åç«¯ : å‘é€å¯åŠ¨è¯·æ±‚ (åŒ…å«ç¾¤ç»„ID)
åç«¯->>åç«¯ : æ ¹æ®ç¾¤ç»„IDæŸ¥è¯¢ default_agent_ids
åç«¯->>åç«¯ : åŠ è½½æ™ºèƒ½ä½“é…ç½®
åç«¯->>ä¼šè®®å¼•æ“ : åˆ›å»º Session å®ä¾‹
ä¼šè®®å¼•æ“->>ä¼šè®®å¼•æ“ : æ‰§è¡Œå·¥ä½œæµ
ä¼šè®®å¼•æ“-->>å‰ç«¯ : è¿”å›ä¼šè®®çŠ¶æ€
å‰ç«¯-->>ç”¨æˆ· : å±•ç¤ºä¼šè®®è¿›è¡Œä¸­
```

**æœ¬èŠ‚æ¥æº**
- [session.go](file://internal/core/workflow/session.go#L42-L165)
- [SPEC-602-default-group.md](file://docs/specs/sprint6/SPEC-602-default-group.md#L18-L26)

## æ“ä½œç¤ºä¾‹ä¸æƒé™æ§åˆ¶
æœ¬èŠ‚æä¾›é€šè¿‡ç•Œé¢æˆ–APIæ“ä½œç¾¤ç»„çš„å®Œæ•´ç¤ºä¾‹ï¼Œå¹¶è®¨è®ºç›¸å…³çš„æƒé™æ§åˆ¶ã€çŠ¶æ€åŒæ­¥å’Œé”™è¯¯å¤„ç†æœºåˆ¶ã€‚

### APIæ“ä½œç¤ºä¾‹
#### åˆ›å»ºç¾¤ç»„
```bash
curl -X POST http://localhost:8080/api/v1/groups \
  -H "Content-Type: application/json" \
  -d '{
    "name": "æ–°äº§å“ç ”å‘ç»„",
    "icon": "ğŸš€",
    "system_prompt": "ä¸“æ³¨äºåˆ›æ–°äº§å“çš„æŠ€æœ¯å¯è¡Œæ€§åˆ†æã€‚",
    "default_agent_ids": ["system_engineer", "system_designer"]
  }'
```

#### è·å–ç¾¤ç»„åˆ—è¡¨
```bash
curl http://localhost:8080/api/v1/groups
```

### æƒé™æ§åˆ¶
ç›®å‰çš„å®ç°ä¸­ï¼ŒAPIå±‚é¢çš„æƒé™æ§åˆ¶è¾ƒä¸ºåŸºç¡€ï¼Œä¸»è¦ä¾èµ–äºHTTPçŠ¶æ€ç è¿›è¡Œé”™è¯¯å¤„ç†ï¼š
- **400 Bad Request**: å½“è¯·æ±‚å‚æ•°æ ¼å¼é”™è¯¯ï¼ˆå¦‚IDä¸æ˜¯æœ‰æ•ˆçš„UUIDï¼‰æ—¶è¿”å›ã€‚
- **404 Not Found**: å½“è¯·æ±‚çš„ç¾¤ç»„IDä¸å­˜åœ¨æ—¶è¿”å›ã€‚
- **500 Internal Server Error**: å½“æ•°æ®åº“æ“ä½œå¤±è´¥æ—¶è¿”å›ã€‚

æ›´é«˜çº§çš„æƒé™æ§åˆ¶ï¼ˆå¦‚åŸºäºè§’è‰²çš„è®¿é—®æ§åˆ¶RBACï¼‰éœ€è¦åœ¨`GroupHandler`ä¸­é›†æˆè®¤è¯ä¸­é—´ä»¶æ¥å®ç°ã€‚

### çŠ¶æ€åŒæ­¥ä¸é”™è¯¯å¤„ç†
å‰ç«¯é€šè¿‡React Queryåº“å®ç°äº†é«˜æ•ˆçš„çŠ¶æ€åŒæ­¥ã€‚å½“åˆ›å»ºã€æ›´æ–°æˆ–åˆ é™¤ç¾¤ç»„åï¼Œç›¸å…³çš„æŸ¥è¯¢ç¼“å­˜ï¼ˆå¦‚`['groups']`ï¼‰ä¼šè¢«è‡ªåŠ¨å¤±æ•ˆï¼Œä»è€Œè§¦å‘UIçš„é‡æ–°æ¸²æŸ“ã€‚é”™è¯¯å¤„ç†åˆ™é€šè¿‡`try-catch`å—æ•è·ï¼Œå¹¶å°†é”™è¯¯ä¿¡æ¯å±•ç¤ºç»™ç”¨æˆ·ã€‚

**æœ¬èŠ‚æ¥æº**
- [group.go](file://internal/api/handler/group.go#L20-L98)
- [useGroups.ts](file://frontend/src/hooks/useGroups.ts#L6-L107)

## ä¸å·¥ä½œæµæ¨¡æ¿çš„å¤ç”¨å…³ç³»
ç¾¤ç»„ä¸å·¥ä½œæµæ¨¡æ¿ä¹‹é—´å­˜åœ¨ç€çµæ´»çš„å¤ç”¨å…³ç³»ï¼Œè¿™ç§è®¾è®¡æå¤§åœ°æå‡äº†ç³»ç»Ÿçš„å¯æ‰©å±•æ€§å’Œç”¨æˆ·ä½“éªŒã€‚

### å¤ç”¨æœºåˆ¶
ä¸€ä¸ªç¾¤ç»„å¯ä»¥ä¸å¤šä¸ªå·¥ä½œæµæ¨¡æ¿ç»“åˆä½¿ç”¨ï¼Œåä¹‹äº¦ç„¶ã€‚ä¾‹å¦‚ï¼Œâ€œThe Councilâ€ç¾¤ç»„æ—¢å¯ä»¥ç”¨äºç®€å•çš„â€œDebateâ€æµç¨‹ï¼Œä¹Ÿå¯ä»¥ç”¨äºå¤æ‚çš„â€œOptimizeâ€è¿­ä»£ä¼˜åŒ–æµç¨‹ã€‚è¿™ç§è§£è€¦è®¾è®¡å…è®¸ç”¨æˆ·è‡ªç”±ç»„åˆï¼Œåˆ›é€ å‡ºå¤šæ ·åŒ–çš„åä½œæ¨¡å¼ã€‚

### é»˜è®¤é…ç½®
ç³»ç»Ÿé€šè¿‡Go Seederæœºåˆ¶åœ¨å¯åŠ¨æ—¶é¢„ç½®äº†é»˜è®¤çš„ç¾¤ç»„å’Œå·¥ä½œæµæ¨¡æ¿ã€‚`SPEC-602`å’Œ`SPEC-603`è§„èŒƒè¯¦ç»†å®šä¹‰äº†è¿™ä¸€è¿‡ç¨‹ï¼Œç¡®ä¿äº†æ–°ç”¨æˆ·å¼€ç®±å³ç”¨çš„ä½“éªŒã€‚é»˜è®¤ç¾¤ç»„â€œThe Councilâ€ä¸é»˜è®¤å·¥ä½œæµâ€œcouncil_optimizeâ€ç´§å¯†å…³è”ï¼Œå…±åŒæ„æˆäº†å¹³å°çš„æ ¸å¿ƒåŠŸèƒ½æ¼”ç¤ºã€‚

```mermaid
erDiagram
GROUPS ||--o{ WORKFLOW_TEMPLATES : "å¯ä½¿ç”¨"
GROUPS {
string id PK
string name
string system_prompt
jsonb default_agent_ids
}
WORKFLOW_TEMPLATES {
string id PK
string name
jsonb graph_definition
}
```

**æœ¬èŠ‚æ¥æº**
- [SPEC-602-default-group.md](file://docs/specs/sprint6/SPEC-602-default-group.md)
- [SPEC-603-default-workflows.md](file://docs/specs/sprint6/SPEC-603-default-workflows.md)

## æœ€ä½³å®è·µå»ºè®®
ä¸ºäº†æœ€å¤§åŒ–ç¾¤ç»„ç®¡ç†ç³»ç»Ÿçš„ä»·å€¼ï¼Œå»ºè®®éµå¾ªä»¥ä¸‹æœ€ä½³å®è·µï¼š

### é¢„è®¾ä¸“ä¸šé¢†åŸŸç¾¤ç»„
ä¸ºä¸åŒçš„ä¸“ä¸šé¢†åŸŸï¼ˆå¦‚æ³•å¾‹ã€é‡‘èã€åŒ»ç–—ï¼‰é¢„è®¾ä¸“é—¨çš„ç¾¤ç»„ã€‚æ¯ä¸ªç¾¤ç»„éƒ½åº”é…ç½®ç¬¦åˆè¯¥é¢†åŸŸç‰¹ç‚¹çš„æ™ºèƒ½ä½“å’Œç³»ç»Ÿæç¤ºè¯ã€‚ä¾‹å¦‚ï¼Œä¸€ä¸ªâ€œæ³•å¾‹åˆè§„ç¾¤ç»„â€å¯ä»¥åŒ…å«â€œæ³•åŠ¡ä¸“å®¶â€ã€â€œåˆè§„å®˜â€å’Œâ€œé£é™©åˆ†æå¸ˆâ€ç­‰æ™ºèƒ½ä½“ï¼Œå¹¶è®¾å®šä¸¥è°¨çš„æ³•å¾‹è®ºè¯è§„åˆ™ã€‚

### åˆ©ç”¨æ¨¡æ¿åº“å®ç°ä¸“å®¶æ™ºæ…§æ™®æƒ åŒ–
é¼“åŠ±é«˜çº§ç”¨æˆ·åˆ›å»ºå’Œåˆ†äº«é«˜è´¨é‡çš„å·¥ä½œæµæ¨¡æ¿ã€‚é€šè¿‡å»ºç«‹ä¸€ä¸ªæ¨¡æ¿åº“ï¼Œæ™®é€šç”¨æˆ·å¯ä»¥ç›´æ¥å¤ç”¨è¿™äº›â€œæ€ç»´ç®—æ³•â€ï¼Œå®ç°â€œä¸“å®¶è®¾è®¡ï¼Œå°ç™½ä½¿ç”¨â€çš„åˆ†å±‚ä½“éªŒã€‚è¿™ä¸ä»…é™ä½äº†ä½¿ç”¨é—¨æ§›ï¼Œä¹Ÿä¿ƒè¿›äº†çŸ¥è¯†çš„æ²‰æ·€å’Œä¼ æ’­ã€‚

### å®šæœŸå®¡æŸ¥å’Œä¼˜åŒ–
éšç€ä¸šåŠ¡çš„å‘å±•ï¼Œå®šæœŸå®¡æŸ¥ç°æœ‰ç¾¤ç»„çš„é…ç½®ï¼Œç§»é™¤ä¸å†éœ€è¦çš„æ™ºèƒ½ä½“ï¼Œæ›´æ–°ç³»ç»Ÿæç¤ºè¯ï¼Œä»¥ç¡®ä¿ç¾¤ç»„å§‹ç»ˆä¿æŒé«˜æ•ˆå’Œç›¸å…³æ€§ã€‚

## ç»“è®º
ç¾¤ç»„ç®¡ç†ç³»ç»Ÿæ˜¯The Councilå¹³å°å®ç°å¤æ‚AIåä½œçš„æ ¸å¿ƒã€‚å®ƒé€šè¿‡æ¸…æ™°çš„å®ä½“è®¾è®¡ã€ç¨³å¥çš„CRUDå®ç°å’Œç›´è§‚çš„å‰ç«¯äº¤äº’ï¼Œä¸ºç”¨æˆ·æä¾›äº†å¼ºå¤§çš„ç¾¤ç»„åˆ›å»ºå’Œç®¡ç†èƒ½åŠ›ã€‚ç¾¤ç»„ä½œä¸ºæ™ºèƒ½ä½“çš„å®¹å™¨å’Œä¸Šä¸‹æ–‡æä¾›è€…ï¼Œåœ¨ä¼šè®®å¯åŠ¨æ—¶å‘æŒ¥ç€å…³é”®ä½œç”¨ã€‚é€šè¿‡ä¸å·¥ä½œæµæ¨¡æ¿çš„çµæ´»å¤ç”¨ï¼Œç³»ç»Ÿæ”¯æŒäº†å¤šæ ·åŒ–çš„åä½œåœºæ™¯ã€‚éµå¾ªé¢„è®¾ä¸“ä¸šç¾¤ç»„å’Œåˆ©ç”¨æ¨¡æ¿åº“çš„æœ€ä½³å®è·µï¼Œå¯ä»¥è¿›ä¸€æ­¥æå‡ç³»ç»Ÿçš„ç”Ÿäº§åŠ›å’Œä»·å€¼ã€‚