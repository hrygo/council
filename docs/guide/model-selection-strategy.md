# 🧠 SparkForge Council: 模型选型策略

> **核心设计哲学**: 思维异构 (Think Heterogeneously)

---

## 1. 为什么需要模型异构？

单一模型家族的 Agent 群体存在 **思维同质化盲区**：

- 相同的训练数据 → 相似的知识边界
- 相同的对齐方式 → 相似的价值倾向
- 相同的推理模式 → 相似的逻辑漏洞

**解决方案**: 采用 **"模型联邦" (Model Federation)** 策略。

---

## 2. 角色阵营与模型配置

### ✊ 正方 (Value Defender)

| 配置项          | 值                    | 理由                         |
| :-------------- | :-------------------- | :--------------------------- |
| **模型**        | Google Gemini 3.0 Pro | 联想力强、跨学科能力突出     |
| **Temperature** | 0.9                   | 鼓励发散思考、挖掘非显性价值 |
| **Top-P**       | 0.95                  | 保持较大采样空间             |

**角色定位**:
- 不是"彩虹屁"式的赞美
- 而是挖掘方案的 **非对称价值点**
- 将潜在价值 **显性化、结构化**

---

### 👊 反方 (Risk Auditor)

| 配置项          | 值          | 理由                   |
| :-------------- | :---------- | :--------------------- |
| **模型**        | DeepSeek-V3 | 逻辑严密、善于发现漏洞 |
| **Temperature** | 0.6         | 抑制幻觉、保持批判锐度 |
| **Top-P**       | 0.85        | 适度收敛               |

**角色定位**:
- 不是为了反对而反对
- 而是进行 **边界修剪**，提升系统稳健性
- 攻击点必须是 **真实存在的风险**

---

### ⚖️ 裁判 (Chief Justice)

| 配置项          | 值            | 理由                     |
| :-------------- | :------------ | :----------------------- |
| **模型**        | Zhipu GLM-4.6 | 中正平和、综合能力强     |
| **Temperature** | 0.2           | 保证判决稳定性和可复现性 |
| **Top-P**       | 0.8           | 较小采样空间             |

**角色定位**:
- 拥有 **"上帝视角"**，全局统筹
- 拒绝 "各打五十大板" 的妥协
- 输出 **可执行的修补指令**

---

## 3. 模型选型矩阵

| 能力维度 | Gemini | DeepSeek |  GLM  |  GPT  | Qwen  |
| :------- | :----: | :------: | :---: | :---: | :---: |
| 创意发散 |  ⭐⭐⭐   |    ⭐⭐    |  ⭐⭐   |  ⭐⭐⭐  |  ⭐⭐   |
| 逻辑推理 |   ⭐⭐   |   ⭐⭐⭐    |  ⭐⭐⭐  |  ⭐⭐   |  ⭐⭐   |
| 代码能力 |   ⭐⭐   |   ⭐⭐⭐    |  ⭐⭐   |  ⭐⭐⭐  |  ⭐⭐   |
| 中文理解 |   ⭐⭐   |   ⭐⭐⭐    |  ⭐⭐⭐  |  ⭐⭐   |  ⭐⭐⭐  |
| 长上下文 |  ⭐⭐⭐   |    ⭐⭐    |  ⭐⭐   |  ⭐⭐   |  ⭐⭐⭐  |
| 成本效益 |   ⭐⭐   |   ⭐⭐⭐    |  ⭐⭐⭐  |   ⭐   |  ⭐⭐⭐  |

---

## 4. 调优指南

### 问题 1: 正方不够兴奋

**症状**: 正方论述平淡，未能挖掘深层价值

**解决方案**:
- 提高 Temperature 至 1.0
- 在 Persona 中添加：*"你必须找出至少 3 个非显性价值点"*
- 尝试切换到更具创造力的模型

### 问题 2: 反方攻击性不足

**症状**: 反方质疑软弱，未击中要害

**解决方案**:
- 确认使用 DeepSeek 原生接口（非代理）
- 在 Persona 中强调：*"每个批评必须附带原文行号"*
- 降低 Temperature 至 0.4

### 问题 3: 裁判逻辑混乱

**症状**: 判决缺乏章法，评分与结论不符

**解决方案**:
- 降低 Temperature 至 0.1
- 强化 Output Format 约束
- 确保使用结构化评分矩阵

### 问题 4: 辩论陷入死循环

**症状**: 双方针对同一细节僵持不下

**解决方案**:
- 在裁判 Persona 中启用 **Logic Loop Detection**
- 设置 Loop 节点 `max_rounds` 上限
- 裁判应在 2 轮僵持后强制裁定

---

## 5. 进阶策略

### 动态模型切换

根据辩论阶段选择不同模型：

| 阶段     | 推荐模型          | 理由           |
| :------- | :---------------- | :------------- |
| 初始分析 | Gemini (长上下文) | 一次性理解全文 |
| 深度辩论 | DeepSeek + Gemini | 对抗性协作     |
| 最终裁决 | GLM (低温度)      | 稳定输出       |

### 成本优化

| 策略             | 节省成本 | 权衡         |
| :--------------- | :------- | :----------- |
| 初审用 mini 模型 | ~60%     | 准确度下降   |
| 缓存上下文       | ~30%     | 需实现缓存层 |
| 限制 max_tokens  | ~20%     | 输出可能截断 |

---

## 6. SparkForge 原则

> **正确的模型放在正确的位置，才能涌现群体智慧。**

- 🛡️ 正方需要 **想象力** → 选择发散型模型
- 🔍 反方需要 **锐度** → 选择逻辑型模型
- ⚖️ 裁判需要 **稳定性** → 选择中性模型

---

## 7. 下一步

- 查看 [LLM Provider 配置](./llm-providers.md)
- 阅读 [自定义工作流指南](./custom-workflow.md)
- 返回 [The Council 使用指南](./council-debate.md)
