# Sprint 10 æ‰§è¡Œè®¡åˆ’: ç³»ç»Ÿç¡¬åŒ–ä¸æ·±åº¦é›†æˆ (System Hardening)

> **å‘¨æœŸ**: 2025-12-30 - 2026-01-13 (2 Weeks)  
> **æ ¸å¿ƒç›®æ ‡**: å®ç° RAG çœŸå®é—­ç¯ï¼Œè¡¥é½è‡ªåŠ¨åŒ–è´¨é‡é˜²çº¿ï¼Œå®Œæˆæ ¸å¿ƒæ¶æ„çš„æ ‡å‡†åŒ–ä¸ç¡¬åŒ–ã€‚

---

## ä¸€ã€æ‰§è¡Œæ¦‚è§ˆ

Sprint 10 æ˜¯ä» "åŠŸèƒ½å®Œæˆ" å‘ "ç”Ÿäº§å°±ç»ª" è½¬åŒ–çš„å…³é”®è¿­ä»£ã€‚æˆ‘ä»¬å°†å¤„ç† Sprint 5/8/9 é—ç•™çš„æ·±å±‚æ¬¡æŠ€æœ¯æŒ‘æˆ˜ã€‚

### 1.1 æ ¸å¿ƒäº¤ä»˜ç‰©
1.  **RAG çœŸå®é›†æˆ**: å³ä¾§çŸ¥è¯†åº“é¢æ¿ä¸å†ä½¿ç”¨ Mock æ•°æ®ã€‚
2.  **è´¨é‡é˜²çº¿**: Nodes åŒ…è¦†ç›–ç‡æå‡è‡³ 80%ï¼ŒE2E å¥‘çº¦æµ‹è¯•å…¨è¦†ç›–ã€‚
3.  **æ ‡å‡†åŒ–é…ç½®**: ç§»é™¤æ‰€æœ‰ç¡¬ç¼–ç ï¼Œæ”¯æŒ `config.yaml` åŠ¨æ€é…ç½®ã€‚
4.  **æ€§èƒ½ç¡¬åŒ–**: å‰ç«¯æ”¯æŒåƒä¸‡çº§é•¿æ¶ˆæ¯æµçš„è™šæ‹Ÿæ»šåŠ¨æ¸²æŸ“ã€‚

---

## äºŒã€ä»»åŠ¡åˆ†è§£ä¸æ’æœŸ

| Phase        | ä»»åŠ¡ ID | åç§°                                | é¢„ä¼°å·¥æ—¶ |  è´Ÿè´£äºº  | çŠ¶æ€  |
| :----------- | :------ | :---------------------------------- | :------: | :------: | :---: |
| **P1: RAG**  | 8.7     | çŸ¥è¯†åº“æ·±åº¦æ•°æ®é›†æˆ (PGVector)       |   12h    | AI Coder |   â¬œ   |
| **P2: QA**   | 10.1    | E2E æ¶ˆæ¯æ•°æ®ä¸€è‡´æ€§æµ‹è¯•              |    8h    | AI Coder |   â¬œ   |
|              | 10.2    | Nodes åŒ…æµ‹è¯•è¦†ç›–ç‡è¡¥å…¨ (66% -> 80%) |   12h    | AI Coder |   ğŸ”„   |
| **P3: Arch** | 10.3    | é…ç½®æ–‡ä»¶åŒ–é‡æ„ (Config & Registry)  |    8h    | AI Coder |   â¬œ   |
|              | 10.4    | å…¨å±€ ID å‘½åè§„èŒƒåŒ–å®¡æŸ¥              |    4h    | AI Coder |   â¬œ   |
| **P4: Perf** | 5.3     | å‰ç«¯æ¶ˆæ¯åˆ—è¡¨è™šæ‹Ÿæ»šåŠ¨ (React-Window) |    6h    | AI Coder |   â¬œ   |

---

## ä¸‰ã€è§„æ ¼è®¾è®¡è¯´æ˜ (Specs Index)

| Spec ID       | æ–‡æ¡£é“¾æ¥                                                         | ä¸»é¢˜         | æ ¸å¿ƒè¦ç‚¹                                             |
| :------------ | :--------------------------------------------------------------- | :----------- | :--------------------------------------------------- |
| **SPEC-1001** | [RAG Integration](./specs/sprint10/SPEC-1001-rag-integration.md) | RAG çœŸå®é›†æˆ | è°ƒç”¨ memory.Service.Retrieveï¼Œæ”¯æŒ Cosine ç›¸ä¼¼åº¦æœç´¢ |
| **SPEC-1002** | [QA Hardening](./specs/sprint10/SPEC-1002-qa-hardening.md)       | è´¨é‡é˜²çº¿     | è¡¥é½ Node å¤„ç†å™¨è¾¹ç•Œæµ‹è¯•ï¼Œå®Œå–„ E2E å¥‘çº¦æ ¡éªŒå¾ªç¯      |
| **SPEC-1003** | [Standardization](./specs/sprint10/SPEC-1003-standardization.md) | æ¶æ„æ ‡å‡†åŒ–   | å»ºç«‹ config ç±»ï¼Œæ¸…ç† Agent.go ä¸­çš„ç¡¬ç¼–ç é»˜è®¤å€¼       |
| **SPEC-1004** | [Perf & Security](./specs/sprint10/SPEC-1004-perf-security.md)   | æ€§èƒ½ä¸å®‰å…¨   | å®ç°è™šæ‹Ÿæ»šåŠ¨æ¸²æŸ“ï¼Œé›†æˆ DOMPurify é˜²å¾¡é€»è¾‘            |

---

## å››ã€é£é™©ç®¡ç†

1.  **RAG å‡†ç¡®æ€§**: PGVector æ£€ç´¢å‚æ•°ï¼ˆå¦‚ `Limit`, `Distance Threshold`ï¼‰éœ€è¦è°ƒä¼˜ä»¥é¿å…æ£€ç´¢åˆ°æ— å…³å†…å®¹ã€‚
2.  **æµ‹è¯•è¦†ç›–ç‡ç“¶é¢ˆ**: `nodes` åŒ…ä¸­çš„å¹¶è¡Œä¸å¾ªç¯é€»è¾‘ Mock éš¾åº¦å¤§ï¼Œéœ€å¼•å…¥æ›´å¼ºå¤§çš„ Mock æ¡†æ¶ã€‚
3.  **é…ç½®å…¼å®¹æ€§**: å¼•å…¥é…ç½®æ–‡ä»¶éœ€ç¡®ä¿æœ¬åœ°å¼€å‘ç¯å¢ƒï¼ˆ.envï¼‰ä¸å®¹å™¨ç¯å¢ƒçš„ä¸€è‡´æ€§ã€‚

---

## äº”ã€éªŒæ”¶é—¨ç¦

- [ ] `make test` ç»Ÿè®¡æ˜¾ç¤º `internal/core/workflow/nodes` è¦†ç›–ç‡ $\ge 80\%$
- [ ] å¯åŠ¨ `council` åï¼Œå³ä¾§é¢æ¿èƒ½çœŸå®æœå‡ºåŒ…å«å…³é”®è¯çš„å†å²ä¼šè¯ç‰‡æ®µ
- [ ] è¿ç»­å‘é€ 100 æ¡æ¶ˆæ¯ï¼Œå‰ç«¯å†…å­˜å ç”¨ç¨³å®šï¼Œæ— å¡é¡¿
- [ ] `make verify-decoupling` 100% é€šè¿‡
