# AI é©±åŠ¨çš„äº§å“åˆ›è®¾ä¸å®ç°æµç¨‹æ–¹æ³•è®º

> **ä½œè€…**: The Council å›¢é˜Ÿ  
> **ç‰ˆæœ¬**: v2.1 (Genesis Edition)  
> **æ—¥æœŸ**: 2025-12-17  
> **æ¡ˆä¾‹**: The Council (AI Native Workspace)

---

## ğŸ“– å¼•è¨€

æœ¬æ–‡æ¡£è®°å½•äº†ä¸€ç§åˆ›æ–°çš„ **AI åŸç”Ÿäº§å“å¼€å‘æ–¹æ³•è®º**â€”â€”å°†äººç±»çš„åˆ›é€ åŠ›ä¸ AI çš„åˆ†æèƒ½åŠ›æ·±åº¦èåˆï¼Œé€šè¿‡ç»“æ„åŒ–çš„å¯¹æŠ—å¼å®¡æŸ¥ã€æ™ºèƒ½å·¥ä½œæµå’Œä¸¥æ ¼çš„è´¨é‡é—¨ç¦ï¼Œå®ç°ä» **æ¨¡ç³Š Idea** åˆ° **æˆç†Ÿäº§å“** çš„é«˜æ•ˆè½¬åŒ–ã€‚

è¿™æ˜¯ä¸€ç§ **"äººæœºå…±åˆ› (Human-AI Co-Creation)"** çš„å…¨æ–°èŒƒå¼ï¼š
- **äººç±»**ï¼šè´Ÿè´£æ„¿æ™¯è¾“å…¥ã€ä»·å€¼åˆ¤æ–­å’Œæœ€ç»ˆå†³ç­–ã€‚
- **AI (Dialecta)**ï¼šè´Ÿè´£å¤šè§’åº¦è¾©è®ºã€æ¼æ´æŒ–æ˜å’Œæ–¹æ¡ˆä¼˜åŒ–ã€‚
- **AI (PMO)**ï¼šè´Ÿè´£è§„æ ¼å®¡è®¡ã€ä¸€è‡´æ€§æ£€æŸ¥å’Œè¿›åº¦è¿½è¸ªã€‚

---

## ğŸ—ºï¸ å…¨æµç¨‹å¯è§†åŒ–

### æ ¸å¿ƒé˜¶æ®µæµè½¬å›¾

![AI Driven Product Process Flow](./images/process_flow_optimized.jpg)

```mermaid
sequenceDiagram
    participant H as ğŸ‘©â€ğŸ’» Human (Creator)
    participant D as ğŸ­ Dialecta (Debater)
    participant A as ğŸ¤– AI Agent (Architect)
    participant P as ğŸ‘® AI PMO (Auditor)
    participant E as ğŸ› ï¸ Dev Team

    Note over H, E: Phase 1: Ideation (åˆ›æ„å­µåŒ–)
    H->>A: 1.1 æå‡ºæ¨¡ç³Š Idea (å¯å‘å¼äº¤äº’)
    A->>H: 1.2 è¿½é—®/æ¾„æ¸…/ç»“æ„åŒ–
    A->>H: 1.3 ç”Ÿæˆ PRD Draft
    
    Note over H, E: Phase 2: Dialecta Review (å¯¹æŠ—å¼å®¡æŸ¥)
    loop Intelligent Optimization Loop
        Note right of A: Step 1: Context Injection
        A->>A: 2.0 è¯»å–åˆ¤ä¾‹æ³• (History Summary)
        
        H->>D: 2.1 æäº¤ PRD Draft
        D-->>D: Pro vs Con è¾©è®º
        D->>D: Judge è£å†³ (Score/Verdict)

        Note right of A: Step 3: Consistency Check
        D->>A: 2.2 å‘é€è£å†³ç»“æœ
        A->>A: 2.3 æ‰§è¡Œ Flip-Flop æ£€æµ‹ (é˜²æ‘‡æ‘†)

        alt Flip-Flop Detected
            A->>H: ğŸš¨ æŠ¥è­¦ï¼šæ£€æµ‹åˆ°é€»è¾‘åå¤ï¼Œä¸­æ–­å¾ªç¯
        else Score < 90 or Issues Found
            D->>A: 2.4 åé¦ˆä¿®æ”¹å»ºè®®
            A->>A: 2.5 è‡ªåŠ¨åº”ç”¨ä¿®æ”¹ (Auto-Edit)
            A->>D: 2.6 æäº¤æ–°ç‰ˆæœ¬ (Next Iteration)
        else Approved
            D->>H: 2.7 è¾“å‡º Final PRD
        end
    end

    Note over H, E: Phase 3: Technical Design (æŠ€æœ¯è®¾è®¡)
    H->>A: 3.1 åŸºäº Final PRD ç”Ÿæˆ TDD & Design
    A-->>D: 3.2 è‡ªè¡Œå‘èµ·è®¾è®¡æ–¹æ¡ˆå®¡æŸ¥
    D->>H: 3.3 è¾“å‡º Final TDD & Design Draft

    Note over H, E: Phase 4: Planning (ç ”å‘è§„åˆ’)
    A->>P: 4.1 ç”Ÿæˆ Specs & Sprint Plan
    P-->>P: 4.2 æ‰§è¡Œ PMO å®¡è®¡ (Traceability Check)
    P->>H: 4.3 è¾“å‡º Audit Report (Pass/Fail)

    Note over H, E: Phase 5: Execution (å†²åˆºæ‰§è¡Œ)
    H->>E: 5.1 å¯åŠ¨ Sprint (Contract & Mock First)
    E->>P: 5.2 æäº¤å¯äº¤ä»˜ç‰© (Atomic Delivery)
    P->>H: 5.3 éªŒæ”¶å®¡è®¡ (Quality Gate)
```

---

## âš™ï¸ æ ¸å¿ƒå·¥å…·é“¾ï¼šDialecta

**ä»“åº“**: [`github.com/hrygo/dialecta`](https://github.com/hrygo/dialecta)

**Dialecta** æ˜¯æœ¬æµç¨‹çš„æ ¸å¿ƒå¼•æ“ï¼Œä¸€ä¸ªå¤šè§’è‰² AI è¾©è®ºç³»ç»Ÿã€‚å®ƒå…‹æœäº†å•ä¸€ LLM çš„â€œç›²ç›®é¡ºä»â€å’Œâ€œå¹»è§‰â€é—®é¢˜ï¼Œé€šè¿‡å¯¹æŠ—äº§ç”ŸçœŸçŸ¥ã€‚

### æ ¸å¿ƒæœºåˆ¶
1.  **å¤šè§’è‰²å¯¹æŠ— (Multi-Persona Debate)**
    *   **Pro (æ­£æ–¹)**ï¼šå…¨åŠ›ç»´æŠ¤ç°æœ‰æ–¹æ¡ˆï¼Œå¯»æ‰¾äº®ç‚¹ã€‚
    *   **Con (åæ–¹)**ï¼šé­”é¬¼ä»£è¨€äººï¼Œæ— æƒ…æŒ–æ˜æ¼æ´å’Œé£é™©ã€‚
    *   **Judge (è£å†³)**ï¼šä¸Šå¸è§†è§’ï¼Œè¯„ä¼°åŒæ–¹è®ºç‚¹ï¼Œç»™å‡ºå…¬æ­£è¯„åˆ†å’Œå»ºè®®ã€‚
2.  **æ™ºèƒ½å¾ªç¯ (Auto-Optimization Loop)**
    *   ç³»ç»Ÿå¯é…ç½® `max_loops`ï¼Œåœ¨æ— äººå€¼å®ˆçš„æƒ…å†µä¸‹è‡ªåŠ¨è¿›è¡Œ "è¾©è®º -> ä¿®æ”¹ -> å†è¾©è®º" çš„è¿­ä»£ï¼Œç›´åˆ°è¯„åˆ†è¾¾æ ‡ã€‚
3.  **åˆ¤ä¾‹æ³•è®°å¿† (Common Law Memory)**
    *   Dialecta ä¼šè¯»å–å†å²è£å†³ (`history_summary.md`)ï¼Œé˜²æ­¢åœ¨æ–°çš„ä¸€è½®ä¿®æ”¹ä¸­é‡çŠ¯é”™è¯¯æˆ–å‘ç”Ÿ "Flip-Flop" (åå¤æ¨ªè·³)ã€‚

---

## ğŸŒ± Phase 1: åˆ›æ„å­µåŒ– (Ideation)

### 1.1 æ–¹æ³•ï¼šå¯å‘å¼äº¤äº’
ä¸ AI è¿›è¡Œè‹æ ¼æ‹‰åº•å¼å¯¹è¯ï¼Œåˆ©ç”¨ **5W1H** å’Œ **åå‘æ¨æ¼”** æŠ€å·§ï¼Œå°† *"æˆ‘æƒ³åš..."* è¿™ç§æ¨¡ç³Šçš„åŸå§‹è¯‰æ±‚ï¼Œæ‰©å±•ä¸ºåŒ…å«æ ¸å¿ƒåŠŸèƒ½ã€ç”¨æˆ·ç”»åƒå’Œç—›ç‚¹çš„ PRD è‰æ¡ˆã€‚

### 1.2 äº§å‡ºç‰©
- **PRD Draft**: åŒ…å«åŸºç¡€åŠŸèƒ½åˆ—è¡¨å’Œæ ¸å¿ƒé€»è¾‘çš„ç»“æ„åŒ–è‰ç¨¿ã€‚

---

## âš”ï¸ Phase 2: PRD å¯¹æŠ—å¼å®¡æŸ¥ (Dialecta Process)

### 2.1 ç›®æ ‡
é€šè¿‡é«˜å¼ºåº¦çš„ AI è¾©è®ºï¼Œåœ¨å†™ä¸‹ä¸€è¡Œä»£ç å‰ï¼Œå‘ç°é€»è¾‘æ¼æ´å’Œäº§å“ç¼ºé™·ã€‚

### 2.2 æµç¨‹
1.  **AI ç«‹è®º**ï¼šæ­£æ–¹é˜è¿°æ–¹æ¡ˆä»·å€¼ã€‚
2.  **AI é©³è®º**ï¼šåæ–¹æ”»å‡»æ–¹æ¡ˆå¼±ç‚¹ï¼ˆå¦‚ï¼šæˆæœ¬å¤±æ§ã€éšç§æ³„éœ²ã€ç”¨æˆ·ç–²åŠ³ï¼‰ã€‚
3.  **AI è£å†³**ï¼šJudge ç»™å‡º Verdict (é€šè¿‡/æ¡ä»¶é€šè¿‡/é©³å›) å’Œä¿®æ”¹å»ºè®®ã€‚
4.  **æ™ºèƒ½å¾ªç¯**: ç³»ç»Ÿè‡ªåŠ¨åº”ç”¨ä¿®æ”¹å»ºè®®ï¼Œå¹¶è¿›è¡Œä¸‹ä¸€è½®è¾©è®ºï¼Œç›´è‡³è¯„åˆ†è¾¾åˆ°é¢„è®¾é˜ˆå€¼ã€‚

### 2.3 äº§å‡ºç‰©
- **Final PRD**: ç»è¿‡å¤šè½®æ´—ç¤¼ï¼Œé€»è¾‘ä¸¥å¯†çš„æ–‡æ¡£ã€‚
- **Debate Reports**: è¯¦ç»†çš„è¾©è®ºè®°å½•ï¼Œä½œä¸ºå†³ç­–ä¾æ®ã€‚

---

## ğŸ“ Phase 3: æŠ€æœ¯è®¾è®¡ (Technical Design)

### 3.1 åŒè½¨å¹¶è¡Œè®¾è®¡
- **TDD (Technical Design Doc)**: æ¶æ„ã€æ¥å£ã€æ•°æ®ç»“æ„ã€‚
- **Design Draft**: UI/UX å¸ƒå±€ã€äº¤äº’æµç¨‹ã€è§†è§‰è§„èŒƒã€‚

### 3.2 Design å®¡æŸ¥
è®¾è®¡æ–¹æ¡ˆåŒæ ·éœ€è¦ç»è¿‡ Dialecta å®¡æŸ¥ã€‚AI ä¼šé’ˆå¯¹è®¾è®¡è“å›¾ä¸­çš„äº¤äº’é€»è¾‘ã€å®‰å…¨éšæ‚£è¿›è¡Œå¯¹æŠ—æ€§æ¨æ¼”ï¼Œç¡®ä¿è®¾è®¡æ–¹æ¡ˆä¸ä»…ç¾è§‚ï¼Œè€Œä¸”å¥å£®ã€‚

### 3.3 äº§å‡ºç‰©
- **TDD & Design Draft** (Production Ready)

---

## ğŸ“‹ Phase 4: ç ”å‘è§„åˆ’ (Planning) & AI PMO å®¡è®¡

### 4.1 è§„æ ¼ç”Ÿæˆ (Spec Generation)
AI æ¶æ„å¸ˆåŸºäºæŠ€æœ¯è“å›¾ï¼ˆTDD & Design Draftï¼‰ï¼Œå°†å…¶**ç»†åŒ–å¹¶è¡ç”Ÿ**ä¸ºæµ·é‡ä¸”é«˜ç²¾åº¦çš„**åˆå§‹ Spec æ–‡æ¡£**ï¼ˆContent Expansionï¼‰ã€‚
*   æ¯ä»½ Spec éƒ½åŒ…å«æ˜ç¡®çš„æ¥å£å®šä¹‰ã€æµ‹è¯•ç”¨ä¾‹è¦æ±‚å’ŒéªŒæ”¶æ ‡å‡†ï¼Œä¸ºå¼€å‘æä¾›åŸå­åŒ–çš„æ‰§è¡ŒæŒ‡ä»¤ã€‚

### 4.2 AI PMO å®¡è®¡ (The AI Auditor)
è¿™æ˜¯ä¸€ä¸ªå®Œå…¨ç”± **AI æ‰®æ¼” PMO** æ‰§è¡Œçš„é—­ç¯éªŒè¯è¿‡ç¨‹ï¼Œå…¶æ·±åº¦è¿œè¶…ä¼ ç»Ÿçš„äººå·¥ Reviewã€‚

#### å®¡è®¡é€»è¾‘é—­ç¯ï¼š
1.  **å…¨å±€è¯»å– (Full Context Audit)**: AI åŒæ—¶è¯»å– PRD, TDD, Design Draft ä»¥åŠåˆšç”Ÿæˆçš„æ‰€æœ‰ Specsã€‚
2.  **å·®è·åˆ†æ (Gap Analysis)**:
    *   æ„å»º **"éœ€æ±‚-å®ç°" çŸ©é˜µ**ï¼Œé€æ¡æ ¸å¯¹ PRD åŠŸèƒ½ç‚¹ (Feature ID) æ˜¯å¦åœ¨ Spec ä¸­æœ‰å¯¹åº”çš„éªŒæ”¶æ ‡å‡†ã€‚
3.  **è‡ªåŠ¨å¢è¡¥ (Auto-Remediation)**:
    *   ä¸€æ—¦å‘ç° Gapï¼ŒAI PMO è‡ªåŠ¨è§¦å‘ `Create Spec` åŠ¨ä½œï¼Œè¡¥é½ç¼ºå¤±çš„è§„æ ¼ã€‚
4.  **è¿½æº¯æ€§é”å®š (Traceability Lock)**:
    *   ç¡®ä¿ Spec æ²¡æœ‰è¿èƒŒ TDD å®šä¹‰çš„æ¶æ„åŸåˆ™ï¼ˆå¦‚ï¼šå‰ç«¯çŠ¶æ€å¿…é¡»éµå¾ª Zustand Store å®šä¹‰ï¼‰ã€‚

### 4.3 å®¡è®¡æˆæœ (Metrics)
é€šè¿‡è¿™ç§ **"ç”Ÿæˆ -> å®¡è®¡ -> å¢è¡¥ -> å†å®¡è®¡"** çš„è‡ªåŠ¨åŒ–æµç¨‹ï¼Œæœ€ç»ˆäº¤ä»˜ç‰©å°†è¾¾åˆ°æé«˜çš„è´¨é‡æ ‡å‡†ï¼š
- **Specs å®Œæ•´æ€§**: ç¡®ä¿ 0 é—æ¼ã€‚
- **PRD è¦†ç›–ç‡**: é€¼è¿‘ 100%ã€‚
- **æ•ˆç‡**: å°†æ•°å¤©çš„ PM å·¥ä½œå‹ç¼©è‡³åˆ†é’Ÿçº§ã€‚

### 4.4 äº§å‡ºç‰©
- **Development Plan**
- **Specs é›†åˆ** (å®Œæ•´è¦†ç›–)
- **Audit Report** (åŒ…å« Traceability Matrix)

---

## ğŸš€ Phase 5: å†²åˆºæ‰§è¡Œ (Execution)

### 5.1 æ‰§è¡ŒåŸåˆ™ (Execution Principles)
åŸºäº *The Council* çš„å®æˆ˜ç»éªŒï¼Œæˆ‘ä»¬ç¡®ç«‹äº†å››å¤§é»„é‡‘åŸåˆ™ï¼š
1. **Contract First (å¥‘çº¦ä¼˜å…ˆ)**: å‰åç«¯å¹¶è¡Œï¼Œæ¥å£å®šä¹‰ï¼ˆSpecï¼‰å…ˆè¡Œã€‚
2. **Mock First (æ¨¡æ‹Ÿä¼˜å…ˆ)**: å‰ç«¯ä¸ä¾èµ–åç«¯å®ç°ï¼Œå…ˆåŸºäºå„ç§ Mock æ•°æ®è·‘é€šäº¤äº’ã€‚
3. **Atomic Delivery (åŸå­äº¤ä»˜)**: æ¯ä¸€æ¬¡ Commit å¿…é¡»æ˜¯â€œå¯ç¼–è¯‘ã€å¯è¿è¡Œâ€çš„å®Œæ•´é€»è¾‘å•å…ƒã€‚
4. **Strict Quality Gates (ä¸¥æ ¼é—¨ç¦)**: Spec -> Test -> Code -> Auditï¼Œç¼ºä¸€ä¸å¯ã€‚

### 5.2 TDD å¼€å‘æ¨¡å¼
å¼€å‘è€…ä¾æ® Spec å’Œ Test Case è¿›è¡Œç¼–ç ï¼šçº¢ (Fail) -> ç»¿ (Impl) -> è“ (Refactor)ã€‚

### 5.3 éªŒæ”¶
| **è®°å¿†æ—¶æ•ˆ** | 7å¤©éš”ç¦»æœŸ | **"Memory Gap"**: â€œä»Šæ—¥çš„å†³ç­–æ˜æ—¥æ— æ³• Recallï¼Œä½ çš„ç¬¬äºŒå¤§è„‘æœ‰å¥å¿˜ç—‡ã€‚â€      | âœ… **å¼•å…¥ Working Memory**: å…è®¸ä½æƒé‡æ£€ç´¢æœªéªŒè¯è®°å¿†ã€‚  |
| **é˜…è¯»ä½“éªŒ** | æ¨ªå‘æ»šåŠ¨  | **"Cognitive Disaster"**: â€œæ¨ªå‘æ»šåŠ¨é•¿æ–‡æœ¬æ˜¯åäººç±»çš„äº¤äº’ï¼Œç”¨æˆ·ä¼šå…³æ‰åº”ç”¨ã€‚â€ | âœ… **æ”¹ä¸º Timeline å¸ƒå±€**: å‚ç›´äº¤é”™æ˜¾ç¤ºï¼Œç¬¦åˆé˜…è¯»ç›´è§‰ã€‚ |

#### Act 3: æé™ç²¾åº¦çš„è§„åˆ’ (Planning Precision)
*Dec 16, 16:00 PM - Spec Generation*

AI æ¶æ„å¸ˆä¸ AI PMO é…åˆï¼Œåœ¨ **5åˆ†é’Ÿ** å†…å®Œæˆäº†äººç±» PM éœ€è¦æ•°å¤©çš„å·¥ä½œé‡ã€‚

*   **è¾“å…¥**: 1.2ä¸‡å­— Design Draft + PRD v1.5
*   **è¾“å‡º**: **32 ä»½** è¯¦ç»† Specs (æ¶µç›–æ¥å£ã€æ•°æ®åº“ã€UIç»†èŠ‚)
*   **PMO å®¡è®¡ç»“æœ** (`docs/reports/specs_audit_report.md`):
    *   PRD åŠŸèƒ½è¦†ç›–ç‡: **98%** (è‡ªåŠ¨è¡¥å…¨äº† `SPEC-206` å‘å¯¼æ¨¡å¼)
    *   Design UI è¦†ç›–ç‡: **92%** (è‡ªåŠ¨è¡¥å…¨äº† God Mode å¼€å…³)
    *   TDD ä¸€è‡´æ€§: **98%**

> **âš¡ï¸ æ•ˆèƒ½**: å®ç°äº† **32:1** çš„ Spec äº§å‡ºæ¯”ï¼Œä¸”ä¿è¯äº† **Traceability Matrix** çš„å®Œæ•´æ€§ã€‚

#### Act 4: è¯šå®çš„æ‰§è¡Œ (Honest Execution)
*Dec 16, 19:00 PM - Implementation Audit*

AI PMO ä¸ä»…è§„åˆ’ï¼Œè¿˜æ— æƒ…åœ°æ­ç¤ºäº†å®ç°çš„å·®è· (`docs/reports/audit_report.md`)ï¼Œé˜²æ­¢é¡¹ç›®è™šå‡ç¹è£ã€‚

*   **åç«¯ Engine**: 70% å®Œæˆ (Vote/Loop èŠ‚ç‚¹æš‚ç¼º)
*   **å‰ç«¯ Store**: **âŒ ä¸¥é‡ç¼ºå¤±** (å³æ—¶å‘ç° `useSessionStore` æ— æ³•æ”¯æ’‘ Run Mode)
*   **åŠ¨ä½œ**: ç«‹å³è‡ªåŠ¨è§¦å‘äº†ç´§æ€¥ä¿®å¤ä»»åŠ¡ (`fix: implement session control`).

### 3. ç»“è®º (Conclusion)

é€šè¿‡ **"Human Vision + AI Auditing"** çš„æ¨¡å¼ï¼Œæˆ‘ä»¬å®ç°äº†ä¸€ä¸ªçœ‹ä¼¼æ‚–è®ºçš„ç›®æ ‡ï¼š**è™½ç„¶å¢åŠ äº†æµç¨‹ç¯èŠ‚ï¼ˆè¾©è®ºã€å®¡è®¡ï¼‰ï¼Œä½†å´æå¤§åœ°å‹ç¼©äº†æ€»ä½“å¼€å‘å‘¨æœŸã€‚**

å› ä¸ºæˆ‘ä»¬æ¶ˆç­äº†è½¯ä»¶å·¥ç¨‹ä¸­æœ€å¤§çš„æˆæœ¬æ¥æºâ€”â€”**è¿”å·¥ (Rework)**ã€‚

> *"We built a solid product by using AI to govern AI."*
